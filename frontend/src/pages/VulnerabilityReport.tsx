import { Link } from 'react-router-dom';
import { useParams } from 'react-router-dom';
import CodeDisplay from "../components/CodeDisplay";

export default function VulnerabilityReport() {
    const { name, code, output, description } = useParams();

    return (
        // Основной контейнер на всю высоту viewport
        <div className="flex flex-col min-h-screen">
            {/* Header с фиксированной высотой */}
            <header className="flex items-center justify-between px-8 h-[100px] border-b bg-white">
                <Link to="/" className="text-xl font-medium text-slate-900">Testify</Link>
                <div className="flex items-center">
                    <Link to="/About">About us</Link>
                </div>
            </header>

            {/* Main content занимает всё оставшееся пространство */}
            <main className="flex-1 p-8 bg-white">
                <div className="mb-4">
                    <h2 className="text-4xl font-bold text-black mb-2">Vulnerability report</h2>
                    <div className='flex justify-between w-[528px]'>
                        <p className="text-xl font-light text-slate-900">{name} </p>
                        <p className="text-xl font-light text-slate-900">Count tests 8 </p>
                    </div>
                </div>

                {/* Контейнер для блоков с кодом и описанием */}
                <div className="flex flex-col lg:flex-row gap-8 h-[calc(100vh-300px)]">
                    {/* Блок с кодом */}
                    <div className='h-full flex flex-col gap-4'>
                        {/* Первый блок кода - растягивается на оставшееся пространство */}
                        <div className="flex-1 w-full lg:w-[530px] border border-gray-200 rounded-md overflow-hidden">
                            <div className="h-full overflow-y-auto p-3">
                                <CodeDisplay
                                    code={code}
                                />
                            </div>
                        </div>
                        {/* Второй блок кода - фиксированная высота */}
                        <div className="flex-none h-[150px] w-full lg:w-[530px] border border-gray-200 rounded-md overflow-hidden">
                            <div className="h-full overflow-y-auto p-3">
                                <CodeDisplay
                                    code={output}
                                />
                            </div>
                        </div>
                    </div>
                    {/* Блок с описанием */}
                    <div className="flex-1 border border-gray-200 rounded-md shadow-md overflow-hidden">
                        <div className="h-full overflow-y-auto p-6">
                            <p className="text-sm font-medium text-black">{description}</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    );
}